probe begin {
  println("Attached to bitcoind process")
}

probe process("./src/bitcoind").mark("init_main") {
  datadir = user_string($arg1)
  config = user_string($arg2)
  printf("AppInitMain with datadir=%s, config=%s\n", datadir, config);
}

probe process("./src/bitcoind").mark("update_tip") {
  height = $arg1
  printf("UpdateTip for new block at height %d\n", height)
}

probe process("./src/bitcoind").mark("finish_ibd") {
  println("IBD finished")
}
